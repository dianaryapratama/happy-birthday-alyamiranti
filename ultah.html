<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy 20th Birthday Alya Miranti</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #ffeef7 0%, #f8e8f5 50%, #f0d9e8 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            padding: 40px 0;
            position: relative;
        }

        .birthday-title {
            font-size: 3.5rem;
            color: #d63384;
            text-shadow: 2px 2px 4px rgba(214, 51, 132, 0.3);
            margin-bottom: 10px;
            animation: fadeInDown 1s ease-out;
        }

        .name {
            font-size: 4rem;
            color: #b85450;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(184, 84, 80, 0.4);
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        .age-date {
            font-size: 1.8rem;
            color: #8b4a7c;
            margin-bottom: 30px;
            animation: fadeIn 1s ease-out 1s both;
        }

        .photo-section {
            display: flex;
            justify-content: center;
            margin: 50px 0;
            animation: slideInUp 1s ease-out 1.5s both;
        }

        .photo-frame {
            width: 350px;
            height: 450px;
            background: linear-gradient(45deg, #ffffff, #ffe5f1);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(214, 51, 132, 0.2);
            position: relative;
            overflow: hidden;
        }

        .photo-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
            box-shadow: inset 0 4px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .photo-image:hover {
            transform: scale(1.02);
        }

        .decorative-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .heart {
            position: absolute;
            color: #ff69b4;
            animation: float 3s ease-in-out infinite;
        }

        .heart:nth-child(1) { top: 10%; left: 10%; font-size: 2rem; animation-delay: 0s; }
        .heart:nth-child(2) { top: 20%; right: 10%; font-size: 1.5rem; animation-delay: 1s; }
        .heart:nth-child(3) { bottom: 20%; left: 15%; font-size: 1.8rem; animation-delay: 2s; }
        .heart:nth-child(4) { bottom: 10%; right: 15%; font-size: 1.3rem; animation-delay: 0.5s; }

        .wishes-section {
            text-align: center;
            margin: 60px 0;
            animation: fadeIn 1s ease-out 2s both;
        }

        .wishes-text {
            font-size: 1.4rem;
            color: #8b4a7c;
            line-height: 1.8;
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.6);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(214, 51, 132, 0.1);
        }

        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(45deg, #d63384, #b85450);
            color: white;
            border: none;
            border-radius: 50%;
            width: 70px;
            height: 70px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 8px 20px rgba(214, 51, 132, 0.4);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .music-control:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(214, 51, 132, 0.6);
        }

        .music-control.playing {
            animation: pulse 1s infinite;
        }

        .click-prompt {
            position: fixed;
            bottom: 120px;
            right: 15px;
            background: rgba(255, 255, 255, 0.95);
            color: #d63384;
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: bold;
            box-shadow: 0 8px 25px rgba(214, 51, 132, 0.3);
            border: 2px solid #ff69b4;
            z-index: 999;
            animation: bounceIn 0.8s ease-out, glow 2s infinite alternate;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            max-width: 140px;
        }

        .click-prompt:hover {
            transform: scale(1.05);
            background: #ff69b4;
            color: white;
        }

        .click-prompt.hidden {
            opacity: 0;
            transform: scale(0.8);
            pointer-events: none;
        }

        .music-waves {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            gap: 3px;
        }

        .wave {
            width: 3px;
            height: 20px;
            background: white;
            border-radius: 2px;
            animation: wave 1s infinite ease-in-out;
        }

        .wave:nth-child(1) { animation-delay: 0s; }
        .wave:nth-child(2) { animation-delay: 0.1s; }
        .wave:nth-child(3) { animation-delay: 0.2s; }
        .wave:nth-child(4) { animation-delay: 0.3s; }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes glow {
            0% { box-shadow: 0 8px 25px rgba(214, 51, 132, 0.3), 0 0 0 0 rgba(255, 105, 180, 0.7); }
            100% { box-shadow: 0 8px 25px rgba(214, 51, 132, 0.5), 0 0 0 8px rgba(255, 105, 180, 0); }
        }

        @keyframes wave {
            0%, 100% { height: 10px; }
            50% { height: 25px; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(100px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .sparkles {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .sparkle {
            position: absolute;
            color: #ffb6c1;
            animation: sparkle 2s infinite;
        }

        .sparkle:nth-child(1) { top: 15%; left: 20%; animation-delay: 0s; }
        .sparkle:nth-child(2) { top: 25%; right: 25%; animation-delay: 0.5s; }
        .sparkle:nth-child(3) { bottom: 30%; left: 30%; animation-delay: 1s; }
        .sparkle:nth-child(4) { bottom: 15%; right: 20%; animation-delay: 1.5s; }

        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }

        @media (max-width: 768px) {
            .birthday-title { font-size: 2.5rem; }
            .name { font-size: 3rem; }
            .age-date { font-size: 1.4rem; }
            .photo-frame { width: 280px; height: 360px; }
            .wishes-text { font-size: 1.2rem; padding: 20px; }
            .container { padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="sparkles">
        <div class="sparkle">‚ú®</div>
        <div class="sparkle">‚≠ê</div>
        <div class="sparkle">‚ú®</div>
        <div class="sparkle">‚≠ê</div>
    </div>

    <div class="decorative-elements">
        <div class="heart">üíñ</div>
        <div class="heart">üíï</div>
        <div class="heart">üíñ</div>
        <div class="heart">üíï</div>
    </div>

    <div class="container">
        <header>
            <h1 class="birthday-title">Happy Birthday</h1>
            <h2 class="name">Alya Miranti</h2>
            <p class="age-date">20 Tahun | 26 Mei 2005</p>
        </header>

        <div class="photo-section">
            <div class="photo-frame">
                <img src="assets/img/mbakk.jpg" alt="Alya Miranti" class="photo-image">
            </div>
        </div>

        <div class="wishes-section">
            <div class="wishes-text">
                üéâ <strong>Selamat Ulang Tahun yang ke-20, Alya Miranti!</strong> üéâ<br><br>
                
               Nggak kerasa udah 20 tahun aja umur Mbak. Ian senang banget bisa jadi bagian dari hari spesial Mbak. 
               Makasih ya udah tetap sabar, baik, dan selalu ada buat Ian sampai sekarang.
                <br><br>
                Di umur yang baru ini, semoga semua yang Mbak impikan bisa pelan-pelan tercapai. 
                Semoga makin kuat, makin sabar, dan makin sayang sama diri sendiri... dan pastinya sama Ian juga dong 
                <br><br>
                Tetap jadi Mbak yang Ian kenal: cerewet tapi lucu, keras kepala tapi manis. 
                Ian doain Mbak selalu sehat, bahagia, dan dilancarkan semua urusannya.
                <br><br>
                Pokoknya hari ini harus senyum terus, jangan ada sedih-sedih. 
                Karena yang ulang tahun itu Mbak, dan yang paling sayang Mbak itu Ian 
                <br><br>

                
                <em>Love you,
                    Ian  üíï‚ú®</em>
            </div>
        </div>
    </div>
    <button class="music-control" id="musicBtn" onclick="toggleMusic()">
        üéµ
        <div class="music-waves" id="musicWaves" style="display: none;">
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
            <div class="wave"></div>
        </div>
    </button>
    
    <div class="click-prompt" id="clickPrompt" onclick="startMusicFromPrompt()">
        üéµ Click Here<br>
        <small>Hidupkan Musik</small>
    </div>

    <audio id="birthdayMusic" loop>
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaAjuBzvLZiTYIGGSz6eOwUhgMTaPh8bhhGQI2jdXzzn0vBSF+zPDbizsIEGOwwrVhGQMyiPDYjDwIF2m/weGGVBMSYr/e9bJjHAQ7k9n1unItBSi86+2JXyYQlb3p8LLyP5UKHHnP8tuWcTwQZ7zj97JSFApGn+DyvmEaAjuV3/LHfC8FJnjH8N2QQAoUXrTp66hVFApGn+DyvmEaAkCs4/LahUATXq3p83soECaF0fPViz0KE2eq6+qVSDoMPZzX+LlgKwQlm9z4sHEhCDOO6PGzYh0FN4zT8s5+LwUie6Hh5OKqdEEaaITVgJ2JdT4XcoXRw4U5CBB9vOTv5JdlEgRVqHQ7FV1rbH1hQrQnKhON17RdOh4MUU9P" type="audio/wav">
        <!-- Fallback untuk browser yang tidak mendukung -->
        Your browser does not support the audio element.
    </audio>

    <script>
        let isPlaying = false;
        let musicStarted = false;
        const music = document.getElementById('birthdayMusic');
        const musicBtn = document.getElementById('musicBtn');
        const clickPrompt = document.getElementById('clickPrompt');
        const musicWaves = document.getElementById('musicWaves');

        // Membuat musik birthday sederhana menggunakan Web Audio API
        let audioContext;
        let oscillator;
        let gainNode;

        function createBirthdayTune() {
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
            }

            // Complete Happy Birthday melody (extended version)
            const fullSong = [
                // "Happy Birthday to you"
                { freq: 261.63, duration: 0.75 }, // C
                { freq: 261.63, duration: 0.25 }, // C
                { freq: 293.66, duration: 1 },    // D
                { freq: 261.63, duration: 1 },    // C
                { freq: 349.23, duration: 1 },    // F
                { freq: 329.63, duration: 2 },    // E
                
                // "Happy Birthday to you"
                { freq: 261.63, duration: 0.75 }, // C
                { freq: 261.63, duration: 0.25 }, // C
                { freq: 293.66, duration: 1 },    // D
                { freq: 261.63, duration: 1 },    // C
                { freq: 392.00, duration: 1 },    // G
                { freq: 349.23, duration: 2 },    // F
                
                // "Happy Birthday dear Alya"
                { freq: 261.63, duration: 0.75 }, // C
                { freq: 261.63, duration: 0.25 }, // C
                { freq: 523.25, duration: 1 },    // C (high)
                { freq: 440.00, duration: 1 },    // A
                { freq: 349.23, duration: 1 },    // F
                { freq: 329.63, duration: 1 },    // E
                { freq: 293.66, duration: 2 },    // D
                
                // "Happy Birthday to you"
                { freq: 466.16, duration: 0.75 }, // Bb
                { freq: 466.16, duration: 0.25 }, // Bb
                { freq: 440.00, duration: 1 },    // A
                { freq: 349.23, duration: 1 },    // F
                { freq: 392.00, duration: 1 },    // G
                { freq: 349.23, duration: 3 },    // F
                
                // Pause before repeat
                { freq: 0, duration: 1 },
                
                // Repeat chorus with variations
                { freq: 261.63, duration: 0.5 }, // C
                { freq: 293.66, duration: 0.5 }, // D
                { freq: 329.63, duration: 0.5 }, // E
                { freq: 349.23, duration: 0.5 }, // F
                { freq: 392.00, duration: 1 },   // G
                { freq: 349.23, duration: 1 },   // F
                { freq: 329.63, duration: 2 },   // E
                
                // Final flourish
                { freq: 523.25, duration: 0.5 }, // C (high)
                { freq: 392.00, duration: 0.5 }, // G
                { freq: 349.23, duration: 0.5 }, // F
                { freq: 329.63, duration: 0.5 }, // E
                { freq: 293.66, duration: 0.5 }, // D
                { freq: 261.63, duration: 2 }    // C
            ];

            let currentTime = audioContext.currentTime;
            
            fullSong.forEach(note => {
                if (note.freq > 0) { // Skip silent notes
                    const osc = audioContext.createOscillator();
                    const gain = audioContext.createGain();
                    
                    osc.connect(gain);
                    gain.connect(audioContext.destination);
                    
                    osc.frequency.setValueAtTime(note.freq, currentTime);
                    osc.type = 'triangle'; // Softer sound
                    
                    gain.gain.setValueAtTime(0.15, currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, currentTime + note.duration);
                    
                    osc.start(currentTime);
                    osc.stop(currentTime + note.duration);
                }
                
                currentTime += note.duration;
            });
            
            return currentTime - audioContext.currentTime; // Return total duration
        }

        function toggleMusic() {
            if (!isPlaying) {
                try {
                    const duration = createBirthdayTune();
                    musicBtn.classList.add('playing');
                    musicBtn.innerHTML = 'üé∂';
                    musicWaves.style.display = 'flex';
                    isPlaying = true;
                    musicStarted = true;
                    
                    // Hide click prompt
                    hideClickPrompt();
                    
                    // Reset setelah durasi penuh (sekitar 35-40 detik)
                    setTimeout(() => {
                        musicBtn.classList.remove('playing');
                        musicBtn.innerHTML = 'üéµ';
                        musicWaves.style.display = 'none';
                        isPlaying = false;
                    }, 40000);
                    
                } catch (error) {
                    console.log('Audio not supported');
                    alert('üéµ Selamat Ulang Tahun Alya Miranti! üéµ');
                }
            } else {
                // Stop music if playing
                if (audioContext) {
                    audioContext.close();
                    audioContext = null;
                }
                musicBtn.classList.remove('playing');
                musicBtn.innerHTML = 'üéµ';
                musicWaves.style.display = 'none';
                isPlaying = false;
            }
        }

        function startMusicFromPrompt() {
            toggleMusic();
        }

        function hideClickPrompt() {
            clickPrompt.classList.add('hidden');
            setTimeout(() => {
                clickPrompt.style.display = 'none';
            }, 300);
        }

        function showClickPrompt() {
            clickPrompt.style.display = 'block';
            clickPrompt.classList.remove('hidden');
        }

        // Auto-start music when page loads
        function autoStartMusic() {
            // Small delay to ensure page is fully loaded
            setTimeout(() => {
                // Try to start music automatically
                try {
                    toggleMusic();
                } catch (error) {
                    console.log('Auto-play blocked, showing click prompt');
                    showClickPrompt();
                }
            }, 1500);
        }

        // Auto-play welcome message and music
        window.addEventListener('load', () => {
            // Start confetti first
            setTimeout(() => {
                createConfetti();
            }, 1000);
            
            // Show click prompt after a delay if music hasn't started
            setTimeout(() => {
                if (!musicStarted) {
                    showClickPrompt();
                }
            }, 3000);
            
            // Try auto-start music
            autoStartMusic();
        });

        // Also try to start music on first user interaction
        document.addEventListener('click', (e) => {
            if (!musicStarted && !e.target.closest('#clickPrompt') && !e.target.closest('#musicBtn')) {
                autoStartMusic();
            }
        }, { once: true });

        function createConfetti() {
            const colors = ['#ff69b4', '#ffb6c1', '#ffc0cb', '#ff91a4', '#d63384'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.style.position = 'fixed';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.top = '-10px';
                    confetti.style.width = '10px';
                    confetti.style.height = '10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.borderRadius = '50%';
                    confetti.style.pointerEvents = 'none';
                    confetti.style.zIndex = '9999';
                    confetti.style.animation = `fall ${3 + Math.random() * 2}s linear forwards`;
                    
                    document.body.appendChild(confetti);
                    
                    setTimeout(() => {
                        confetti.remove();
                    }, 5000);
                }, i * 100);
            }
        }

        // Add CSS for confetti animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fall {
                0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; }
                100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
